{
  "hash": "a8dd5daca8e022e9257ff88337eaf49e",
  "result": {
    "markdown": "---\ntitle: 'Laying out figures with ggplot2'\ndate: '02-12-2024'\ncategories: ['Example', 'ggplot2']\ndescription: 'This is a test post. In this post, I try out different functionalities in the hope of making a template.'\nexecute: \n  message: false\n  warning: false\n  # code-overflow: wrap\neditor_options: \n  chunk_output_type: console\nknitr:\n  opts_chunk: \n    fig.align: 'center'\n---\n\n\nWhy?\n\n::: ol\n1.  Previously was using a combination of R, Powerpoint, and Latex to lay out figures.\n:::\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla dignissim ex sit amet augue consequat, vel gravida purus ullamcorper. Etiam interdum metus in tincidunt elementum. Praesent placerat elit at eleifend eleifend. Vivamus consequat tempus sollicitudin. Pellentesque condimentum libero vel finibus pretium.\n\n<!-- From https://cran.r-project.org/web/packages/egg/vignettes/Ecosystem.html -->\n\n| Package | Function(s) | Compatible with `ggsave()` | Alignment |\n|------|------|------|------|\n| grid | viewport, grid.layout | no | no |\n| gridExtra | grid.arrange | yes | no |\n| (r cookbook) | multiplot | no | no |\n| gtable | multi_panel_figure | yes | yes |\n| cowplot | plot_grid | yes\\* | yes\\* |\n| multipanelfigure | multi_panel_figure | yes | yes |\n| egg | ggarrange | yes | yes |\n| patchwork | plot_layout | yes | yes |\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ninstall.packages(\"pacman\", repos=\"https://cran.r-project.org\")\n## package 'pacman' successfully unpacked and MD5 sums checked\n## \n## The downloaded binary packages are in\n## \tC:\\Users\\PC\\AppData\\Local\\Temp\\Rtmpycc6ks\\downloaded_packages\npacman::p_load(\"egg\", # https://cran.r-project.org/web/packages/egg/vignettes/Overview.html\n               \"grid\", \n               \"gtable\",\n               \"ggpubr\",\n               \"ggplot2\",\n               \"ggplotify\")\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Basically the same\ngridExtra::grid.arrange(plot1, plot1, nrow = 1)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/gridExtra ggpubr and egg-1.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code}\nggpubr::ggarrange(plot1, plot1, nrow = 1)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/gridExtra ggpubr and egg-2.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code}\negg::ggarrange(plot1, plot1, nrow = 1)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/gridExtra ggpubr and egg-3.png){fig-align='center' width=672}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngtab = gtable_matrix(name = NULL,\n                     grobs = matrix(list(grob1, grob1), nrow = 1), \n                     widths = unit(c(1, 1), \"null\"), \n                     heights = unit(1, \"null\"))\n\ng1 = expose_layout(plot1) \n\ngtab = gtable_matrix(name = NULL, \n                     grobs = matrix(list(g1, g1), nrow = 1), \n                     widths = unit(c(1, 1), \"null\"), \n                     heights = unit(1, \"null\"))\n\ngrid.draw(gtab)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/gtable-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n## Create ggplot from grob\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nggplotify::as.ggplot(g1)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/unnamed-chunk-2-1.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code}\negg::ggarrange(ggplotify::as.ggplot(g1), ggplotify::as.ggplot(g1), nrow = 1)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/unnamed-chunk-2-2.png){fig-align='center' width=672}\n:::\n:::\n\n\n## The egg package\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# https://cran.r-project.org/web/packages/egg/vignettes/Ecosystem.html\n\nlayout_matrix = rbind(c(1, 2, 3), c(1, 4, 4))\n\negg::ggarrange(ggplot(), ggplot(), ggplot(), ggplot(), \n               # ncol = 3, nrow = 2, \n               widths = c(1, 1, 1, 2), heights = c(2, 1, 1, 1), \n               labels = c(\"A\", \"B\", \"C\", \"D\"),\n               label.args = list(gp = gpar(fontfamily = \"sans\", \n                                           fontsize = 12, fontface = \"bold\"), \n                                 x = unit(1.95, \"cm\"), vjust = 1, hjust = 1), \n               draw = T)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=672}\n:::\n\n```{.r .cell-code}\ng1 = gtable_frame(ggplotGrob(ggplot()), width = unit(1, \"null\"), height = unit(2, \"null\"), debug = TRUE)\ng2 = gtable_frame(ggplotGrob(ggplot()), width = unit(1, \"null\"), height = unit(1, \"null\"), debug = TRUE)\ng3 = gtable_frame(ggplotGrob(ggplot()), width = unit(1, \"null\"), height = unit(1, \"null\"), debug = TRUE)\ng4 = gtable_frame(ggplotGrob(ggplot()), width = unit(2, \"null\"), height = unit(1, \"null\"), debug = TRUE)\n\ng23 = gtable_frame(gtable_cbind(gtable_frame(ggplotGrob(ggplot())), \n                                gtable_frame(ggplotGrob(ggplot()))), \n                   width = unit(2, \"null\"), height = unit(1, \"null\"))\ng234 = gtable_frame(gtable_rbind(g23, \n                                 gtable_frame(ggplotGrob(ggplot()))), \n                    width = unit(2, \"null\"), height = unit(2, \"null\"))\ngcomb = gtable_frame(gtable_cbind(gtable_frame(ggplotGrob(ggplot())),\n                                  g234),\n                     width = unit(3, \"null\"), height = unit(2, \"null\"))\n\ngrid.newpage()\ngrid.draw(gcomb)\n```\n\n::: {.cell-output-display}\n![](example-blog-post_files/figure-html/unnamed-chunk-3-2.png){fig-align='center' width=672}\n:::\n:::\n",
    "supporting": [
      "example-blog-post_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}